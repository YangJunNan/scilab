<?xml version="1.0" encoding="UTF-8"?>
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" xmlns:scilab="http://www.scilab.org" xml:lang="en" xml:id="scilab">
    <refnamediv>
        <refname>scilab</refname>
        <refpurpose>run command or file in another scilab</refpurpose>
    </refnamediv>
    <refsynopsisdiv>
        <title>Syntax</title>
        <synopsis>[err, stdout, stderr] = scilab(code, file, mode, quit, args)</synopsis>
        <synopsis>scilab(..., background)</synopsis>
    </refsynopsisdiv>
    <refsection>
        <title>Arguments</title>
        <variablelist>
            <varlistentry>
                <term>code</term>
                <listitem>
                    <para>command to execute in the new scilab.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>file</term>
                <listitem>
                    <para>file to execute in the new scilab.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>mode</term>
                <listitem>
                    <para><literal>nwni</literal>: to start a new scilab without graphical and xcos features.</para>
                    <para><literal>nw</literal>: to start a new scilab with graphical and xcos features. (default)</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>quit</term>
                <listitem>
                    <para>boolean to indicate if scilab must quit after execution (default: %t)</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>args</term>
                <listitem>
                    <para>Other arguments to pass to the new scilab, they can be get via <link linkend="sciargs">sciargs</link>.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>background</term>
                <listitem>
                    <para>The process will be launched in a detached process without waiting for end to continue.</para>
                    <warning><para>In <literal>background</literal> is <literal>%T</literal> the function will not return parameter</para></warning>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>err</term>
                <listitem>
                    <para>status of execution (0 to succeeded).</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>stdout</term>
                <listitem>
                    <para>Content of Standard Output.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>stderr</term>
                <listitem>
                    <para>Content of Standard Error.</para>
                </listitem>
            </varlistentry>
        </variablelist>
    </refsection>
    <refsection>
        <title>Description</title>
        <para>Executes <literal>code</literal> or <literal>file</literal> in a new scilab and returns status and logs.</para>
    </refsection>
    <refsection>
        <title>Remarks</title>
        <warning>
            <para><literal>code</literal> and <literal>file</literal> are mutually exclusive.</para>
        </warning>
        <para>We recommand to use this function with named arguments (see examples)</para>
    </refsection>
    <refsection>
        <title>Examples</title>
        <programlisting role="example">
    <![CDATA[
    //execute 1+1 in a new scilab and exit at the end
    [status, stdout, stderr] = scilab(code="1+1")
    //execute 1+1 in a new scilab and exit at the end without graphics
    [status, stdout, stderr] = scilab(code="1+1", mode="nwni")

    tmp = tempname();
    mputl("1+1", tmp);

    //execute 1+1 in a new scilab and exit at the end
    [status, stdout, stderr] = scilab(file=tmp)
    //execute 1+1 in a new scilab and exit at the end without graphics
    [status, stdout, stderr] = scilab(file=tmp, mode="nwni")

]]></programlisting>
    </refsection>
    <refsection role="see also">
        <title>See also</title>
        <simplelist type="inline">
            <member>
                <link linkend="execstr">execstr</link>
            </member>
            <member>
                <link linkend="exec">exec</link>
            </member>
            <member>
                <link linkend="evstr">evstr</link>
            </member>
            <member>
                <link linkend="sciargs">sciargs</link>
            </member>
            <member>
                <link linkend="startup_options">scilab startup options</link>
            </member>
        </simplelist>
    </refsection>
    <refsection role="history">
        <title>History</title>
        <revhistory>
            <revision>
                <revnumber>2024.1.0</revnumber>
                <revremark>Introduced</revremark>
            </revision>
        </revhistory>
    </refsection>
</refentry>
